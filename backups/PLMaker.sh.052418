# this scripts 
# 1) Finds Videos
# 2) Puts them into a playlist
# 3) Shuffles them up
# 4) Makes sure certian videos play every so many videos
# for example it will play something from the promo folder every 10 videos

# Paths to compressed videos:
# Music Videos
MPC='/Users/lorenrisker/Movies/ooftv/broadcast/sourcevideos/musicvideoplaylist-PLF06E26B33B6A2F33/compressed'
# Live Videos
LPC='/Users/lorenrisker/Movies/ooftv/broadcast/sourcevideos/oofliveplaylist-PLA026E00FEC044A76/compressed'
# Add To Stream Playlist
SPC='/Users/lorenrisker/Movies/ooftv/broadcast/sourcevideos/oofaddtostreamplaylist-PLmvDDOT4vxZd4th9yXtHKXc6HSA_93nlV/compressed'
# Series
# Promos
# Shorts and extras

# Playlist Path
listPath='/Users/lorenrisker/Movies/ooftv/broadcast/playlists'

# Playlist Creator
d=$(date +%Y-%m-%d) # use this to give playlists a unique name
echo $d
listName=$d-playlist.m3u # name the ordered playlist
shufList=$d-playlist-shuf.m3u # name the shuffled playlist
echo $listName
echo $shufList
# Compile everything into a playlist
ls *.mp4 "$MPC" >> $listPath/$listName
ls *.mp4 "$LPC" >> $listPath/$listName
ls *.mp4 "$SPC" >> $listPath/$listName

# Shuffle the playlist
# this relies on gshuf which is not installed natively. can be installed with brew install coreutils
/usr/local/bin/gshuf $listPath/$listName>$listPath/$shufList
